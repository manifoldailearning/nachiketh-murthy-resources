<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Planner-Worker Pattern Everyone Gets Wrong</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Space+Grotesk:wght@600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --color-bg: #0a0e27;
            --color-surface: #151b3d;
            --color-text: #e2e8f0;
            --color-text-dim: #94a3b8;
            
            --color-planner: #8b5cf6;
            --color-worker: #10b981;
            --color-wrong: #ef4444;
            --color-right: #06b6d4;
            --color-accent: #f59e0b;
            
            --font-display: 'Space Grotesk', sans-serif;
            --font-mono: 'Space Mono', monospace;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--color-bg);
            font-family: var(--font-mono);
        }

        .reveal {
            font-family: var(--font-mono);
            color: var(--color-text);
        }

        .reveal .slides {
            text-align: left;
        }

        .reveal section {
            padding: 3rem;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .reveal h1, .reveal h2 {
            font-family: var(--font-display);
            font-weight: 700;
            letter-spacing: -0.01em;
            line-height: 1.1;
        }

        .reveal h1 {
            font-size: 4.5rem;
            margin-bottom: 2rem;
        }

        .reveal h2 {
            font-size: 3rem;
            margin-bottom: 2.5rem;
            color: var(--color-accent);
        }

        /* Title slide */
        .title-slide {
            background: var(--color-bg);
        }

        .title-slide h1 {
            line-height: 1.1;
            margin-bottom: 1.5rem;
            color: #ffffff;
            font-weight: 800;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .title-slide .subtitle {
            font-size: 2.2rem;
            color: #ffffff;
            margin-bottom: 2rem;
            font-weight: 700;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }

        .title-slide .mistake {
            padding: 2rem;
            background: rgba(239, 68, 68, 0.25);
            border-left: 4px solid var(--color-wrong);
            font-size: 1.7rem;
            border-radius: 8px;
            color: #ffffff;
            line-height: 1.5;
            font-weight: 600;
            text-shadow: 0 1px 4px rgba(0, 0, 0, 0.5);
        }

        /* Wrong vs Right pattern */
        .pattern-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            max-width: 1300px;
        }

        .pattern-box {
            padding: 2.5rem;
            background: var(--color-surface);
            border-radius: 12px;
            border: 3px solid;
        }

        .pattern-box.wrong {
            border-color: var(--color-wrong);
        }

        .pattern-box.right {
            border-color: var(--color-right);
        }

        .pattern-label {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
            font-family: var(--font-display);
        }

        .pattern-box.wrong .pattern-label {
            color: var(--color-wrong);
        }

        .pattern-box.right .pattern-label {
            color: var(--color-right);
        }

        .pattern-flow {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .flow-step {
            padding: 1.2rem 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            font-size: 1.2rem;
            border-left: 3px solid;
        }

        .flow-step.planner {
            border-left-color: var(--color-planner);
            background: rgba(139, 92, 246, 0.1);
        }

        .flow-step.worker {
            border-left-color: var(--color-worker);
            background: rgba(16, 185, 129, 0.1);
        }

        .flow-arrow {
            text-align: center;
            font-size: 1.5rem;
            color: var(--color-accent);
            margin: 0.3rem 0;
        }

        /* Common mistakes */
        .mistakes-list {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            max-width: 1100px;
        }

        .mistake-item {
            padding: 2rem 2.5rem;
            background: var(--color-surface);
            border-left: 6px solid var(--color-wrong);
            border-radius: 8px;
        }

        .mistake-number {
            font-size: 1.8rem;
            color: var(--color-wrong);
            font-weight: 700;
            margin-bottom: 0.8rem;
        }

        .mistake-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .mistake-desc {
            font-size: 1.2rem;
            color: var(--color-text-dim);
            line-height: 1.5;
        }

        /* State management */
        .state-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            max-width: 1200px;
        }

        .state-card {
            padding: 2rem;
            background: var(--color-surface);
            border-radius: 12px;
            border: 3px solid var(--color-planner);
        }

        .state-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--color-planner);
        }

        .state-items {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .state-item {
            padding: 1rem;
            background: rgba(139, 92, 246, 0.1);
            border-radius: 6px;
            font-size: 1.1rem;
        }

        /* Error handling */
        .error-strategies {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            max-width: 1100px;
        }

        .error-strategy {
            padding: 2rem;
            background: var(--color-surface);
            border-left: 6px solid var(--color-accent);
            border-radius: 8px;
        }

        .strategy-name {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--color-accent);
        }

        .strategy-desc {
            font-size: 1.2rem;
            color: var(--color-text-dim);
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .strategy-example {
            padding: 1rem;
            background: rgba(245, 158, 11, 0.1);
            border-radius: 6px;
            font-size: 1.1rem;
            font-family: var(--font-mono);
        }

        /* Weekend project */
        .project-container {
            max-width: 1100px;
        }

        .project-header {
            padding: 2rem;
            background: var(--color-surface);
            border: 3px solid var(--color-right);
            border-radius: 12px;
            margin-bottom: 2rem;
        }

        .project-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--color-right);
            margin-bottom: 1rem;
        }

        .project-goal {
            font-size: 1.4rem;
            color: var(--color-text-dim);
        }

        .project-components {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        .component-box {
            padding: 1.5rem;
            background: var(--color-surface);
            border-radius: 8px;
            border-left: 4px solid;
        }

        .component-box:nth-child(1) {
            border-left-color: var(--color-planner);
        }

        .component-box:nth-child(2),
        .component-box:nth-child(3),
        .component-box:nth-child(4) {
            border-left-color: var(--color-worker);
        }

        .component-name {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .component-desc {
            font-size: 1.1rem;
            color: var(--color-text-dim);
        }

        /* Key principles */
        .principles-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            max-width: 1100px;
        }

        .principle-item {
            padding: 2rem;
            background: var(--color-surface);
            border-left: 6px solid var(--color-right);
            border-radius: 8px;
        }

        .principle-text {
            font-size: 1.6rem;
            font-weight: 700;
            line-height: 1.4;
        }

        /* CTA slide */
        .cta-container {
            text-align: center;
            max-width: 900px;
            margin: 0 auto;
        }

        .cta-principle {
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 3rem;
            padding: 2rem;
            background: var(--color-surface);
            border: 4px solid var(--color-right);
            border-radius: 12px;
            line-height: 1.4;
        }

        .cta-highlight {
            color: var(--color-right);
            display: block;
            margin-top: 1rem;
        }

        .cta-links {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .cta-card {
            padding: 2.5rem;
            background: var(--color-surface);
            border: 4px solid var(--color-accent);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .cta-card:hover {
            transform: translateY(-10px);
            border-color: var(--color-right);
            box-shadow: 0 15px 40px rgba(6, 182, 212, 0.3);
        }

        .cta-icon {
            font-size: 3.5rem;
            margin-bottom: 1rem;
        }

        .cta-label {
            font-size: 1.6rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .cta-url {
            font-size: 1.2rem;
            color: var(--color-text-dim);
            font-family: var(--font-mono);
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            <!-- SLIDE 1: Title -->
            <section class="title-slide">
                <h1>The Planner-Worker Pattern<br>Everyone Gets Wrong</h1>
                <div class="subtitle">Common Mistakes & How to Fix Them</div>
                <div class="mistake">
                    Most implementations fail because they treat it as sequential, not iterative.
                </div>
            </section>

            <!-- SLIDE 2: Wrong vs Right -->
            <section>
                <h2>Wrong vs Right Approach</h2>
                
                <div class="pattern-comparison">
                    <div class="pattern-box wrong">
                        <div class="pattern-label">‚ùå What Most Do</div>
                        <div class="pattern-flow">
                            <div class="flow-step planner">Planner: Create full plan</div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step worker">Worker 1: Execute step 1</div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step worker">Worker 2: Execute step 2</div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step worker">Worker 3: Execute step 3</div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step planner">Done</div>
                        </div>
                    </div>
                    
                    <div class="pattern-box right">
                        <div class="pattern-label">‚úÖ What You Should Do</div>
                        <div class="pattern-flow">
                            <div class="flow-step planner">Planner: Next step only</div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step worker">Worker 1: Execute & report</div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step planner">Planner: Re-evaluate</div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step worker">Worker 2: Execute & report</div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step planner">Planner: Adjust</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SLIDE 3: Common Mistakes -->
            <section>
                <h2>Common Mistakes</h2>
                
                <div class="mistakes-list">
                    <div class="mistake-item">
                        <div class="mistake-number">Mistake #1</div>
                        <div class="mistake-title">Planning Everything Upfront</div>
                        <div class="mistake-desc">
                            Creating a complete plan before execution. Reality changes, plan becomes obsolete.
                        </div>
                    </div>
                    
                    <div class="mistake-item">
                        <div class="mistake-number">Mistake #2</div>
                        <div class="mistake-title">No Feedback Loop</div>
                        <div class="mistake-desc">
                            Workers execute blindly without reporting back. Planner can't adjust.
                        </div>
                    </div>
                    
                    <div class="mistake-item">
                        <div class="mistake-number">Mistake #3</div>
                        <div class="mistake-title">Treating Failures as Fatal</div>
                        <div class="mistake-desc">
                            One worker fails ‚Üí entire system fails. No retry, no alternative paths.
                        </div>
                    </div>
                </div>
            </section>

            <!-- SLIDE 4: State Management -->
            <section>
                <h2>State Management</h2>
                
                <div class="state-grid">
                    <div class="state-card">
                        <div class="state-title">What to Track</div>
                        <div class="state-items">
                            <div class="state-item">Current goal</div>
                            <div class="state-item">Steps completed</div>
                            <div class="state-item">Results so far</div>
                            <div class="state-item">Failed attempts</div>
                        </div>
                    </div>
                    
                    <div class="state-card">
                        <div class="state-title">How to Track</div>
                        <div class="state-items">
                            <div class="state-item">Shared state object</div>
                            <div class="state-item">Update after each step</div>
                            <div class="state-item">Pass to next worker</div>
                            <div class="state-item">Planner reads state</div>
                        </div>
                    </div>
                    
                    <div class="state-card">
                        <div class="state-title">What Workers Return</div>
                        <div class="state-items">
                            <div class="state-item">Success/failure status</div>
                            <div class="state-item">Result data</div>
                            <div class="state-item">Error details (if failed)</div>
                            <div class="state-item">Recommendations</div>
                        </div>
                    </div>
                    
                    <div class="state-card">
                        <div class="state-title">What Planner Does</div>
                        <div class="state-items">
                            <div class="state-item">Read worker results</div>
                            <div class="state-item">Update understanding</div>
                            <div class="state-item">Decide next action</div>
                            <div class="state-item">Adjust if needed</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SLIDE 5: When Workers Fail -->
            <section>
                <h2>When Workers Fail</h2>
                
                <div class="error-strategies">
                    <div class="error-strategy">
                        <div class="strategy-name">Strategy 1: Retry with Backoff</div>
                        <div class="strategy-desc">
                            Worker fails ‚Üí Wait ‚Üí Retry with same input
                        </div>
                        <div class="strategy-example">
                            Best for: Transient errors (network, rate limits)
                        </div>
                    </div>
                    
                    <div class="error-strategy">
                        <div class="strategy-name">Strategy 2: Alternative Approach</div>
                        <div class="strategy-desc">
                            Worker fails ‚Üí Planner tries different worker or method
                        </div>
                        <div class="strategy-example">
                            Best for: Tool-specific failures (API down, access denied)
                        </div>
                    </div>
                    
                    <div class="error-strategy">
                        <div class="strategy-name">Strategy 3: Simplify Task</div>
                        <div class="strategy-desc">
                            Worker fails ‚Üí Planner breaks task into smaller pieces
                        </div>
                        <div class="strategy-example">
                            Best for: Task too complex (context overflow, ambiguity)
                        </div>
                    </div>
                    
                    <div class="error-strategy">
                        <div class="strategy-name">Strategy 4: Human Escalation</div>
                        <div class="strategy-desc">
                            Multiple failures ‚Üí Ask human for help or clarification
                        </div>
                        <div class="strategy-example">
                            Best for: Unrecoverable errors, ambiguous requirements
                        </div>
                    </div>
                </div>
            </section>

            <!-- SLIDE 6: Weekend Project -->
            <section>
                <h2>Weekend Project</h2>
                
                <div class="project-container">
                    <div class="project-header">
                        <div class="project-title">Build It This Weekend</div>
                        <div class="project-goal">
                            Goal: Planner orchestrates 3 workers to complete a research task
                        </div>
                    </div>
                    
                    <div class="project-components">
                        <div class="component-box">
                            <div class="component-name">Planner</div>
                            <div class="component-desc">
                                Decomposes task, decides which worker to call, re-evaluates after each step
                            </div>
                        </div>
                        
                        <div class="component-box">
                            <div class="component-name">Worker 1: Data Retrieval</div>
                            <div class="component-desc">
                                Makes API calls, returns raw data or error
                            </div>
                        </div>
                        
                        <div class="component-box">
                            <div class="component-name">Worker 2: Data Processing</div>
                            <div class="component-desc">
                                Transforms data, performs computation, returns results
                            </div>
                        </div>
                        
                        <div class="component-box">
                            <div class="component-name">Worker 3: Summary</div>
                            <div class="component-desc">
                                Takes processed data, generates natural language summary
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SLIDE 7: Key Principles -->
            <section>
                <h2>Key Principles</h2>
                
                <div class="principles-list">
                    <div class="principle-item">
                        <div class="principle-text">
                            1. Plan one step at a time, not the entire journey
                        </div>
                    </div>
                    
                    <div class="principle-item">
                        <div class="principle-text">
                            2. Workers report back, planner re-evaluates
                        </div>
                    </div>
                    
                    <div class="principle-item">
                        <div class="principle-text">
                            3. Failures are opportunities to adjust, not endpoints
                        </div>
                    </div>
                    
                    <div class="principle-item">
                        <div class="principle-text">
                            4. State flows through the system, not just data
                        </div>
                    </div>
                </div>
            </section>

            <!-- SLIDE 8: CTA -->
            <section>
                <div class="cta-container">
                    <div class="cta-principle">
                        Iterative, not sequential.
                        <span class="cta-highlight">That's the difference between brittle and robust.</span>
                    </div>
                    
                    <div class="cta-links">
                        <div class="cta-card">
                            <div class="cta-icon">üí°</div>
                            <div class="cta-label">Implementation Examples</div>
                            <div class="cta-url">community.nachiketh.in</div>
                        </div>
                        
                        <div class="cta-card">
                            <div class="cta-icon">üéì</div>
                            <div class="cta-label">Production Patterns</div>
                            <div class="cta-url">bootcamp.nachiketh.in</div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
    <script>
        Reveal.initialize({
            width: 1920,
            height: 1080,
            margin: 0.04,
            transition: 'fade',
            transitionSpeed: 'default',
            backgroundTransition: 'fade',
            hash: true,
            controls: true,
            progress: true,
            center: false,
            slideNumber: false
        });
    </script>
</body>
</html>
